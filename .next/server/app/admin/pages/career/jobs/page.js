(()=>{var e={};e.id=982,e.ids=[982],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71113:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(30797),s(90596),s(18495),s(35866);var r=s(23191),i=s(88716),a=s(37922),l=s.n(a),n=s(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["admin",{children:["pages",{children:["career",{children:["jobs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,30797)),"C:\\Users\\Pritam\\Desktop\\assetmagnets\\app\\admin\\pages\\career\\jobs\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,90596)),"C:\\Users\\Pritam\\Desktop\\assetmagnets\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,18495)),"C:\\Users\\Pritam\\Desktop\\assetmagnets\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Pritam\\Desktop\\assetmagnets\\app\\admin\\pages\\career\\jobs\\page.tsx"],m="/admin/pages/career/jobs/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/pages/career/jobs/page",pathname:"/admin/pages/career/jobs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},70185:(e,t,s)=>{Promise.resolve().then(s.bind(s,89803))},89803:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(10326),i=s(17577),a=s(16856),l=s(2114);function n({job:e,onSubmit:t,onCancel:s,isSubmitting:a=!1}){let[n,o]=(0,i.useState)({title:"",description:"",requirements:"",responsibilities:"",location:"",type:"FULL_TIME",salary:"",active:!0,...e}),[d,c]=(0,i.useState)({}),m=e=>{let{name:t,value:s}=e.target;o(e=>({...e,[t]:s})),d[t]&&c(e=>{let s={...e};return delete s[t],s})},x=()=>{let e={};return n.title.trim()||(e.title="Title is required"),n.description.trim()||(e.description="Description is required"),n.requirements.trim()||(e.requirements="Requirements are required"),n.responsibilities.trim()||(e.responsibilities="Responsibilities are required"),n.location.trim()||(e.location="Location is required"),n.type||(e.type="Job type is required"),c(e),0===Object.keys(e).length};return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x()&&t(n)},className:"space-y-6 pb-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Job Title*"}),r.jsx("input",{type:"text",id:"title",name:"title",value:n.title,onChange:m,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${d.title?"border-red-300":"border-gray-300"}`,placeholder:"e.g. Senior Software Engineer"}),d.title&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.title})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location*"}),r.jsx("input",{type:"text",id:"location",name:"location",value:n.location,onChange:m,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${d.location?"border-red-300":"border-gray-300"}`,placeholder:"e.g. Remote / Hybrid / New York, NY"}),d.location&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.location})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Job Type*"}),(0,r.jsxs)("select",{id:"type",name:"type",value:n.type,onChange:m,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${d.type?"border-red-300":"border-gray-300"}`,children:[r.jsx("option",{value:"FULL_TIME",children:"Full Time"}),r.jsx("option",{value:"PART_TIME",children:"Part Time"}),r.jsx("option",{value:"CONTRACT",children:"Contract"}),r.jsx("option",{value:"INTERNSHIP",children:"Internship"}),r.jsx("option",{value:"REMOTE",children:"Remote"})]}),d.type&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.type})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"salary",className:"block text-sm font-medium text-gray-700",children:"Salary Range (Optional)"}),r.jsx("input",{type:"text",id:"salary",name:"salary",value:n.salary||"",onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"e.g. $80,000 - $100,000"})]}),(0,r.jsxs)("div",{className:"flex items-center h-full pt-6",children:[r.jsx("input",{type:"checkbox",id:"active",name:"active",checked:n.active,onChange:e=>{let{name:t,checked:s}=e.target;o(e=>({...e,[t]:s}))},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-700",children:"Active (visible on career page)"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Job Description*"}),r.jsx("textarea",{id:"description",name:"description",rows:6,value:n.description,onChange:m,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${d.description?"border-red-300":"border-gray-300"}`,placeholder:"Describe the job role, responsibilities, and what the candidate will be doing..."}),d.description&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.description})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"requirements",className:"block text-sm font-medium text-gray-700",children:"Job Requirements*"}),r.jsx("textarea",{id:"requirements",name:"requirements",rows:6,value:n.requirements,onChange:m,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${d.requirements?"border-red-300":"border-gray-300"}`,placeholder:"List the skills, qualifications, and experience required for this position..."}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Tip: Use line breaks to separate individual requirements for better readability."}),d.requirements&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.requirements})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"responsibilities",className:"block text-sm font-medium text-gray-700",children:"Job Responsibilities*"}),r.jsx("textarea",{id:"responsibilities",name:"responsibilities",rows:6,value:n.responsibilities,onChange:m,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${d.responsibilities?"border-red-300":"border-gray-300"}`,placeholder:"List the key responsibilities and duties for this position..."}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Tip: Use line breaks to separate individual responsibilities for better readability."}),d.responsibilities&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.responsibilities})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-gray-200",children:[(0,r.jsxs)("button",{type:"button",onClick:s,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:a,children:[r.jsx(l.aHS,{className:"mr-2 -ml-1 h-4 w-4"}),"Cancel"]}),(0,r.jsxs)("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:a,children:[r.jsx(l.TvB,{className:"mr-2 -ml-1 h-4 w-4"}),a?"Saving...":e?.id?"Update Job":"Create Job"]})]})]})}var o=s(90434);function d(){let[e,t]=(0,i.useState)([]),[s,d]=(0,i.useState)(!0),[c,m]=(0,i.useState)(null),[x,p]=(0,i.useState)({status:"all",type:"all",search:""}),[h,u]=(0,i.useState)(null),[g,y]=(0,i.useState)(!1),[b,j]=(0,i.useState)("create"),f=e=>{u(e),j("edit"),y(!0)},v=e=>{u(e),j("view"),y(!0)},N=async s=>{try{if(d(!0),"create"===b){let r=await fetch("/api/admin/jobs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to create job listing")}let i=await r.json();t([i,...e])}else if("edit"===b&&h){let r=await fetch(`/api/admin/jobs?id=${h.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to update job listing")}let i=await r.json();t(e.map(e=>e.id===i.id?i:e))}y(!1),m(null)}catch(e){m(e instanceof Error?e.message:"An error occurred while saving the job")}finally{d(!1)}},w=()=>{y(!1),m(null)},k=async s=>{if(window.confirm("Are you sure you want to delete this job listing? This action cannot be undone."))try{let r=await fetch(`/api/admin/jobs?id=${s}`,{method:"DELETE"});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to delete job listing")}t(e.filter(e=>e.id!==s))}catch(e){m(e instanceof Error?e.message:"Failed to delete job listing")}},C=async s=>{try{let r=await fetch(`/api/admin/jobs?id=${s.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!s.active})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to update job status")}let i=await r.json();t(e.map(e=>e.id===s.id?i:e))}catch(e){m(e instanceof Error?e.message:"Failed to update job status")}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Job Openings Management"}),r.jsx("p",{className:"text-gray-600",children:"Create, edit, and manage job listings for your career page."})]}),(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0 mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 w-full md:w-auto",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(l.U41,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search jobs...",className:"pl-10 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:x.search,onChange:e=>p({...x,search:e.target.value})})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("select",{className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:x.status,onChange:e=>p({...x,status:e.target.value}),children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]}),(0,r.jsxs)("select",{className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:x.type,onChange:e=>p({...x,type:e.target.value}),children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"FULL_TIME",children:"Full Time"}),r.jsx("option",{value:"PART_TIME",children:"Part Time"}),r.jsx("option",{value:"CONTRACT",children:"Contract"}),r.jsx("option",{value:"INTERNSHIP",children:"Internship"}),r.jsx("option",{value:"REMOTE",children:"Remote"})]})]})]}),(0,r.jsxs)("button",{onClick:()=>{u(null),j("create"),y(!0)},className:"btn-primary flex items-center space-x-2",children:[r.jsx(l.wEH,{}),r.jsx("span",{children:"Add New Job"})]})]}),s?r.jsx("div",{className:"flex justify-center items-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):c?r.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-md",children:c}):0===e.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(l.I8D,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No job listings found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:x.search||"all"!==x.status||"all"!==x.type?"Try adjusting your filters to see more results.":"Get started by creating a new job listing."})]}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Job Title"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applications"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.title}),r.jsx("div",{className:"text-sm text-gray-500",children:e.slug})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.location}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.type.replace("_"," ")})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e._count?.applications||0}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("button",{onClick:()=>C(e),className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.active?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>v(e),className:"text-indigo-600 hover:text-indigo-900",title:"View Details",children:r.jsx(l.dSq,{})}),r.jsx("button",{onClick:()=>f(e),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:r.jsx(l.fmQ,{})}),r.jsx("button",{onClick:()=>k(e.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:r.jsx(l.Xm5,{})}),r.jsx(o.default,{href:`/admin/pages/career/jobs/applications/${e.id}`,className:"text-green-600 hover:text-green-900",title:"View Applications",children:r.jsx(l.I$,{})})]})})]},e.id))})]})})]}),g&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-2 sm:p-4 overflow-y-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto my-2 sm:my-4 mx-auto",children:[r.jsx("div",{className:"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 z-10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"create"===b?"Create New Job Listing":"edit"===b?"Edit Job Listing":"Job Listing Details"}),(0,r.jsxs)("button",{onClick:w,className:"text-gray-400 hover:text-gray-500",children:[r.jsx("span",{className:"sr-only",children:"Close"}),r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})]})}),(0,r.jsxs)("div",{className:"px-6 py-4",children:[c&&r.jsx("div",{className:"mb-4 bg-red-50 text-red-600 p-4 rounded-md",children:c}),"view"===b?(0,r.jsxs)("div",{className:"space-y-6 pb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Job Title"}),r.jsx("p",{className:"mt-1 text-lg font-medium",children:h?.title})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Location"}),r.jsx("p",{className:"mt-1",children:h?.location})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Job Type"}),r.jsx("p",{className:"mt-1",children:h?.type.replace("_"," ")})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Salary Range"}),r.jsx("p",{className:"mt-1",children:h?.salary||"Not specified"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Status"}),r.jsx("p",{className:"mt-1",children:r.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${h?.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h?.active?"Active":"Inactive"})})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Description"}),r.jsx("div",{className:"mt-1 prose max-w-none",children:r.jsx("p",{className:"whitespace-pre-wrap",children:h?.description})})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Requirements"}),r.jsx("div",{className:"mt-1 prose max-w-none",children:r.jsx("p",{className:"whitespace-pre-wrap",children:h?.requirements})})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Responsibilities"}),r.jsx("div",{className:"mt-1 prose max-w-none",children:r.jsx("p",{className:"whitespace-pre-wrap",children:h?.responsibilities})})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Close"})})]}):r.jsx(n,{job:h||void 0,onSubmit:N,onCancel:w,isSubmitting:s})]})]})})]})}},30797:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\Users\Pritam\Desktop\assetmagnets\app\admin\pages\career\jobs\page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,859,527,373],()=>s(71113));module.exports=r})();