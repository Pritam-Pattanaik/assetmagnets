(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[470],{234:function(e,r,t){Promise.resolve().then(t.bind(t,7805))},7805:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var a=t(7437),s=t(2265),i=t(4809),n=t(5674);function l(){let[e,r]=(0,s.useState)([]),[t,l]=(0,s.useState)({linkedin:"",twitter:"",facebook:""}),[o,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(!1),[h,u]=(0,s.useState)(!0),[x,f]=(0,s.useState)("idle");(0,s.useEffect)(()=>{!async function(){try{u(!0);let e=await fetch("/api/contact");if(!e.ok)throw Error("Failed to fetch contact information");let t=await e.json();if(t.branches&&t.branches.length>0&&r(t.branches),t.socialMedia){let e={};t.socialMedia.forEach(r=>{e[r.platform]=r.url}),l({linkedin:e.linkedin||"",twitter:e.twitter||"",facebook:e.facebook||""})}}catch(e){console.error("Error fetching contact information:",e)}finally{u(!1)}}()},[]);let y=async r=>{r.preventDefault();try{if(f("loading"),!(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branches:e,socialMedia:t})})).ok)throw Error("Failed to update contact information");f("success"),setTimeout(()=>f("idle"),3e3)}catch(e){console.error("Error updating contact information:",e),f("error"),setTimeout(()=>f("idle"),3e3)}},p=(e,r)=>{l({...t,[e]:r})},b=()=>Date.now().toString(),g=e=>{c({...e}),m(!0)},j=t=>{confirm("Are you sure you want to delete this branch?")&&r(e.filter(e=>e.id!==t))},N=(e,r)=>{o&&c({...o,[e]:r})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Contact Information"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage your company's branch offices and contact details that appear on your website."})]}),(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Branch Offices"}),(0,a.jsxs)("button",{type:"button",onClick:()=>{c({id:b(),name:"",country:"",address:"",phone:"",email:"",officeHours:""}),m(!0)},className:"inline-flex items-center px-3 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,a.jsx)(n.wEH,{className:"mr-2 -ml-1 h-4 w-4"}),"Add Branch"]})]}),(0,a.jsx)("div",{className:"space-y-4 mb-6",children:0===e.length?(0,a.jsx)("p",{className:"text-gray-500 italic",children:'No branches added yet. Click "Add Branch" to create your first branch office.'}):e.map(e=>(0,a.jsx)("div",{className:"border border-gray-200 rounded-md p-4 hover:bg-gray-50",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"mt-1 text-sm text-gray-500",children:[(0,a.jsxs)("p",{className:"flex items-center",children:[(0,a.jsx)(n.ssk,{className:"mr-2 h-4 w-4"}),e.country]}),(0,a.jsxs)("p",{className:"flex items-center",children:[(0,a.jsx)(n.Nh4,{className:"mr-2 h-4 w-4"}),e.address]}),(0,a.jsxs)("p",{className:"flex items-center",children:[(0,a.jsx)(n.I7T,{className:"mr-2 h-4 w-4"}),e.phone]}),(0,a.jsxs)("p",{className:"flex items-center",children:[(0,a.jsx)(n.SRX,{className:"mr-2 h-4 w-4"}),e.email]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>g(e),className:"text-primary-600 hover:text-primary-800",title:"Edit Branch",children:(0,a.jsx)(n.fmQ,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>j(e.id),className:"text-red-600 hover:text-red-800",title:"Delete Branch",children:(0,a.jsx)(n.Xm5,{className:"h-5 w-5"})})]})]})},e.id))}),d&&o&&(0,a.jsxs)(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border border-gray-300 rounded-md p-4 mb-6 bg-gray-50",children:[(0,a.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-4",children:e.some(e=>e.id===o.id)?"Edit Branch":"Add New Branch"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"branchName",className:"block text-sm font-medium text-gray-700",children:"Branch Name*"}),(0,a.jsx)("input",{type:"text",id:"branchName",value:o.name,onChange:e=>N("name",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Headquarters, Regional Office, etc.",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"branchCountry",className:"block text-sm font-medium text-gray-700",children:"Country*"}),(0,a.jsx)("input",{type:"text",id:"branchCountry",value:o.country,onChange:e=>N("country",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"United States, United Kingdom, etc.",required:!0})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"branchAddress",className:"block text-sm font-medium text-gray-700",children:"Address*"}),(0,a.jsx)("textarea",{id:"branchAddress",rows:2,value:o.address,onChange:e=>N("address",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Full street address",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"branchPhone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,a.jsx)("input",{type:"text",id:"branchPhone",value:o.phone,onChange:e=>N("phone",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"+1 (555) 123-4567"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"branchEmail",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,a.jsx)("input",{type:"email",id:"branchEmail",value:o.email,onChange:e=>N("email",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"branch@example.com"})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"branchHours",className:"block text-sm font-medium text-gray-700",children:"Office Hours"}),(0,a.jsx)("input",{type:"text",id:"branchHours",value:o.officeHours,onChange:e=>N("officeHours",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Monday - Friday: 9:00 AM - 5:00 PM"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{c(null),m(!1)},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),(0,a.jsx)("button",{type:"button",onClick:()=>{if(o){if(!o.name||!o.country||!o.address){alert("Please fill in all required fields (Name, Country, and Address)");return}e.some(e=>e.id===o.id)?r(e.map(e=>e.id===o.id?o:e)):r([...e,o]),c(null),m(!1)}},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Save Branch"})]})]}),(0,a.jsxs)("form",{onSubmit:y,className:"space-y-6 mt-8",children:[(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Social Media Links"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"linkedin",className:"block text-sm font-medium text-gray-700",children:"LinkedIn"}),(0,a.jsx)("input",{type:"url",id:"linkedin",value:t.linkedin,onChange:e=>p("linkedin",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"twitter",className:"block text-sm font-medium text-gray-700",children:"Twitter"}),(0,a.jsx)("input",{type:"url",id:"twitter",value:t.twitter,onChange:e=>p("twitter",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"facebook",className:"block text-sm font-medium text-gray-700",children:"Facebook"}),(0,a.jsx)("input",{type:"url",id:"facebook",value:t.facebook,onChange:e=>p("facebook",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})]})]}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsxs)("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,a.jsx)(n.TvB,{className:"mr-2 -ml-1 h-5 w-5"}),"Save All Changes"]})})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Preview"}),(0,a.jsx)("div",{className:"bg-gray-100 p-6 rounded-lg border border-gray-200",children:(0,a.jsxs)("div",{className:"space-y-6",children:[e.map((e,r)=>(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md shadow-sm",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:e.country}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(n.Nh4,{className:"h-5 w-5 text-primary-600 mt-1 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Address"}),(0,a.jsx)("p",{className:"text-gray-600",children:e.address})]})]}),e.phone&&(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(n.I7T,{className:"h-5 w-5 text-primary-600 mt-1 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Phone"}),(0,a.jsx)("p",{className:"text-gray-600",children:e.phone})]})]}),e.email&&(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(n.SRX,{className:"h-5 w-5 text-primary-600 mt-1 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Email"}),(0,a.jsx)("p",{className:"text-gray-600",children:e.email})]})]}),e.officeHours&&(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-2 mt-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Office Hours"}),(0,a.jsx)("p",{className:"text-gray-600",children:e.officeHours})]})]})]},e.id)),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Connect With Us"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700",children:"LinkedIn"}),(0,a.jsx)("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700",children:"Twitter"}),(0,a.jsx)("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700",children:"Facebook"})]})]})]})})]})]})}},178:function(e,r,t){"use strict";t.d(r,{w_:function(){return o}});var a=t(2265),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=a.createContext&&a.createContext(s),n=function(){return(n=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++)for(var s in r=arguments[t])Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e}).apply(this,arguments)},l=function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>r.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>r.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t};function o(e){return function(r){return a.createElement(c,n({attr:n({},e.attr)},r),function e(r){return r&&r.map(function(r,t){return a.createElement(r.tag,n({key:t},r.attr),e(r.child))})}(e.child))}}function c(e){var r=function(r){var t,s=e.attr,i=e.size,o=e.title,c=l(e,["attr","size","title"]),d=i||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),a.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,c,{className:t,style:n(n({color:e.color||r.color},r.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),e.children)};return void 0!==i?a.createElement(i.Consumer,null,function(e){return r(e)}):r(s)}}},function(e){e.O(0,[420,809,971,117,744],function(){return e(e.s=234)}),_N_E=e.O()}]);